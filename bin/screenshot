#!/bin/bash -e

region=$(swaymsg -t get_tree | jq -r '.. | select(.pid? and .visible?) | .rect | "\(.x),\(.y) \(.width)x\(.height)"' | slurp)
out="$HOME/Pictures/screenshot_$(date +%Y-%m-%d_%H-%M-%S).png"
grim -g "$region" -s 1 $out -f test
wl-copy $out
notify-send "$(basename $out)"$'\n'"(path copied)"
